@model Budgeter.Models.BudgetItemsIndexViewModel
@using Budgeter.Models
@{
    ViewBag.Title = "Details";
}

<link rel="stylesheet" href="~/JQuery-UI/jquery-ui.min.css">
<link href="~/Content/transaction-form-style.css" rel="stylesheet">

<h2>@ViewBag.BudgetName</h2>
<div class="container">
    <div class="row">
        <div class="col-lg-8">
            <h4>Income</h4>
            @*<table class="table">
                <tr>
                    <th></th>
                    <th>
                        @Html.DisplayNameFor(model => modelItem.Description)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IncomeItems.Category)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IncomeItems.Amount)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IsRepeating)
                    </th>
                </tr>
                @foreach (var item in Model.IncomeItems)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Category)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Amount)
                        </td>
                        <td>
                            @Html.DisplayNameFor(model => item.IsRepeating)
                        </td>
                    </tr>
                }*@
            </table>
            <h4>Expenses</h4>
            <table class="table">

            </table>
        </div>
        <div class="col-lg-4">
            <div id="form-placeholder">
                @{ 
                    var createItemModel = new BudgetItemCreateViewModel();
                    createItemModel = ViewBag.CreateModel;
                }
                @Html.Partial("_CreateBudgetItem", createItemModel)
           </div>
        </div>
    </div>
</div>
@section scripts{
    <script src="~/JQuery-UI/jquery-ui.min.js"></script>
    <script type="text/javascript">
        @*$("#categoryselect").autocomplete({
            source:
                '@Url.Action("ExpenseSearch")'
        });*@

        $('#categoryselect').click(function() {
            if ($('#radio-income').is(':checked'))
            {
                $("#categoryselect").autocomplete({
                    source: '@Url.Action("IncomeSearch")'
                });
            }
        });
        $('#categoryselect').click(function () {
            if ($('#radio-expense').is(':checked'))
            {
                $("#categoryselect").autocomplete({
                    source: '@Url.Action("ExpenseSearch")'
                });
            }
        });

    //$(document).ready(function () {
    //    $(".delete").click(function () {
    //        $("#restore-transaction-placeholder").empty();
    //        var myId = $(this).attr('id');
    //        $("#restore-transaction-placeholder").load("/Transactions/GetView", { transactionId: myId, viewName: "_RestoreTransaction" });
    //    });
</script>
}
